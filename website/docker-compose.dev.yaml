services:
  website:
    container_name: goose-web-dev
    build:
      context: .
      dockerfile: ./docker/dev/Dockerfile
    env_file:
      - ./docker/dev/.env
    environment:
      - CHOKIDAR_USEPOLLING=true
    volumes:
      - ./app:/app
      - ./docker/files/.env:/app/env/local.env
      - ../vault-agent/vault_secrets/website/dev/.env:/app/env/secret.env
    ports:
      - "3000:3000"
    restart: always
    networks:
      - backend-network

networks:
  backend-network:
    external: true